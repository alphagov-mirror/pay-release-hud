<html>
<head>
  <title>Release HUD</title>
  
  <style type="text/css">
    html, body {
      font-family: sans-serif;
      color: white;
      background-color: black;
    }
    
    #releases {
    }
    
    #releases th, td {
      text-align: center;
      vertical-align: top;
      margin: 0;
      width: 12em;
    }
    
    #releases th {
      font-size: 120%;
      text-align: center;
      padding: 0.5em 0.5em 0.5em 0.5em;
      margin-left: 0.4em;
      margin-right: 0.4em;
    }
    
    #releases th.production {
      border-bottom: solid 5px green;
    }
    
    #releases th.staging {
      border-bottom: solid 5px orange;
    }
    
    #releases th.releases {
      border-bottom: solid 5px #AEC6CF;
    }
    
    #releases td.category {
      padding: 1.0em 0 0.5em 0;
      vertical-align: middle;
    }
    
    #releases td.production {
      
    }
    
    #releases td.staging {      
    }
    
    .release {
      position: relative;
      margin: 0.4em;
      border-radius: 25px;
      padding: 15px 20px; 
      color: black;
      background-color: #AEC6CF;
      overflow: visible;
      text-align: center;
      width: 10em;
    }
    
    .ok { 
        background-color: green;
    }
    
    .warning { 
        background-color: orange;
    }
    
    .alarm { 
        background-color: red;
    }
    
    .number {
      display: block;
      font-size: 200%;
      text-align: center;
    }
  
  </style>
</head>

<body>
  <table id="releases">
    <tr>
      <th colspan="2" class="releases">
        Releases
      </td>
      
      <th colspan="3" class="staging">
        Deployed on Staging
      </td>
      
      <th colspan="2" class="production">
        Deployed on Production
      </th>
    </tr>
    
    <tr>
      <td class="category releases">New Releases</td>
      <td class="category releases">Approved for Staging</td>
      <td class="category staging">Awaiting Approval for Production</td>
      <td class="category staging">Approved for Production</td>      
      <td class="category staging">Promoted to Production</td>
      <td class="category production">Update Needed</td>
      <td class="category production">Current Version</td>
    </tr>
    
    <tr>
      <td class="releases">
        {% for release in release_new %}
            <div class="release {{release.repo}}">
              {{release.repo}}
              <span class="number">{{release.release}}</span>
            </div>
        {% endfor %}
      </td>
      
      <td class="releases">
        {% for release in release_approved %}
            <div class="release {{release.repo}} ok">
              {{release.repo}}
              <span class="number">{{release.release}}</span>
            </div>
        {% endfor %}
      </td>
      
      <td class="staging">
        {% for release in staging_deployed %}
            <div class="release {{release.repo}} warning">{{release.repo}} <span class="number">{{release.release}}</span></div>
        {% endfor %}
      </td>
      
      <td class="staging">
        {% for release in staging_approved %}
            <div class="release {{release.repo}} ok">{{release.repo}} <span class="number">{{release.release}}</span></div>
        {% endfor %}
      </td>
      
      <td class="staging">
        {% for release in staging_promoted %}
            <div class="release {{release.repo}}">{{release.repo}} <span class="number">{{release.release}}</span></div>
        {% endfor %}
      </td>
      
      <td class="production">        
        {% for release in production_update %}
            <div class="release {{release.repo}}{% if loop.length > 1 %} alarm{% else %} warning{% endif %}">
              {{release.repo}} <span class="number">{{release.release}}</span></div>
        {% endfor %}
      </td>

      <td class="production">
        {% for release in production_current %}
            <div class="release {{release.repo}}">{{release.repo}} <span class="number">{{release.release}}</span></div>
        {% endfor %}
      </td>
    </tr>
  </table>

</body>

</html>